---
- hosts: c1
  tasks:

   - name: Make sure that we can connect to the machine
     ping:

   - name: Upgrade vi
     yum:
       name: vi
       state: latest
       update_cache: true
     become: true

   - name: Install list of packeges
     yum:
       name: "{{ mypackageList }}"
       state: present
       update_cache: true
     vars:
       mypackageList:
       - vim
       - vi
     become: true

   - name: Install list of packeges
     yum: name="{{item}}" state=present update_cache=true
     with_items:
      - nano
      - wget
     become: true
       

